package main

import (
	"context"
	"fmt"
	"sync"
	"time"
)

func main() {
	var seconds int64
	seconds = 10
	ctx, _ := context.WithDeadline(context.Background(), time.Now().Add(time.Duration(seconds) * time.Second))
	wg := sync.WaitGroup{}
	wg.Add(1)
	go func() {
		defer wg.Done()
		for  {
			select {
			case <-ctx.Done():
				fmt.Println("done")
				return
			case <-time.After(1 * time.Second):
				fmt.Println("s")
				break
			}
		}
	}()
	wg.Wait()
}